export const FRAMEWORKS = ["utilitarianism", "virtue", "egoism_altruism", "deontology", "empathy"];

export const PROBLEM_POINTS = {
  problem_1: {
    weight: 1,
    choices: {
      pull_lever: { utilitarianism: 2, virtue: 0, egoism_altruism: 3, deontology: 0, empathy: 3 },
      do_nothing: { utilitarianism: -2, virtue: 0, egoism_altruism: -3, deontology: 0, empathy: -3 }
    }
  },
  problem_2: {
    weight: 1,
    choices: {
      pull_lever: { utilitarianism: 2, virtue: 2, egoism_altruism: 0, deontology: 3, empathy: 1 },
      do_nothing: { utilitarianism: -2, virtue: -2, egoism_altruism: 0, deontology: -3, empathy: -1 }
    }
  },
  problem_3: {
    weight: 1,
    choices: {
      pull_lever: { utilitarianism: 3, virtue: 0, egoism_altruism: 0, deontology: 0, empathy: 0 },
      do_nothing: { utilitarianism: -3, virtue: 0, egoism_altruism: 0, deontology: 0, empathy: 0 }
    }
  },
  problem_4: {
    weight: 1,
    choices: {
      pull_lever: { utilitarianism: 3, virtue: 1, egoism_altruism: 0, deontology: 0, empathy: 1 },
      do_nothing: { utilitarianism: -3, virtue: -1, egoism_altruism: 0, deontology: 0, empathy: -1 }
    }
  },
  problem_5: {
    weight: 1,
    choices: {
      pull_lever: { utilitarianism: 3, virtue: 1, egoism_altruism: 0, deontology: 0, empathy: 2 },
      do_nothing: { utilitarianism: -3, virtue: -1, egoism_altruism: 0, deontology: 0, empathy: -2 }
    }
  },
  problem_6: {
    weight: 1,
    choices: {
      pull_lever: { utilitarianism: 2, virtue: 0, egoism_altruism: 0, deontology: 0, empathy: 0 },
      do_nothing: { utilitarianism: -2, virtue: 0, egoism_altruism: 0, deontology: 0, empathy: 0 }
    }
  },
  problem_7: {
    weight: 1,
    choices: {
      pull_lever: { utilitarianism: 0, virtue: 1, egoism_altruism: 0, deontology: 2, empathy: 1 },
      do_nothing: { utilitarianism: 0, virtue: -1, egoism_altruism: 0, deontology: -2, empathy: -1 }
    }
  },
  problem_8: {
    weight: 1,
    choices: {
      pull_lever: { utilitarianism: 3, virtue: 0, egoism_altruism: 0, deontology: 3, empathy: 0 },
      do_nothing: { utilitarianism: -3, virtue: 0, egoism_altruism: 0, deontology: -3, empathy: 0 }
    }
  },
  problem_9: {
    weight: 1,
    choices: {
      pull_lever: { utilitarianism: 1, virtue: 2, egoism_altruism: 0, deontology: 2, empathy: 0 },
      do_nothing: { utilitarianism: -1, virtue: -2, egoism_altruism: 0, deontology: -2, empathy: 0 }
    }
  },
  problem_10: {
    weight: 1,
    choices: {
      pull_lever: { utilitarianism: 2, virtue: 1, egoism_altruism: 0, deontology: 0, empathy: 2 },
      do_nothing: { utilitarianism: -2, virtue: -1, egoism_altruism: 0, deontology: 0, empathy: -2 }
    }
  },
  problem_11: {
    weight: 1,
    choices: {
      pull_lever: { utilitarianism: 1, virtue: 2, egoism_altruism: 0, deontology: 3, empathy: 2 },
      do_nothing: { utilitarianism: -1, virtue: -2, egoism_altruism: 0, deontology: -3, empathy: -2 }
    }
  },
  problem_12: {
    weight: 1,
    choices: {
      pull_lever: { utilitarianism: 0, virtue: 3, egoism_altruism: 0, deontology: 0, empathy: 1 },
      do_nothing: { utilitarianism: 0, virtue: -3, egoism_altruism: 0, deontology: 0, empathy: -1 }
    }
  },
  problem_13: {
    weight: 1,
    choices: {
      pull_lever: { utilitarianism: 0, virtue: 2, egoism_altruism: 0, deontology: 0, empathy: 2 },
      do_nothing: { utilitarianism: 0, virtue: -2, egoism_altruism: 0, deontology: 0, empathy: -2 }
    }
  },
  problem_14: {
    weight: 1,
    choices: {
      pull_lever: { utilitarianism: 0, virtue: 1, egoism_altruism: 0, deontology: 0, empathy: 3 },
      do_nothing: { utilitarianism: 0, virtue: -1, egoism_altruism: 0, deontology: 0, empathy: -3 }
    }
  },
  problem_15: {
    weight: 1,
    choices: {
      pull_lever: { utilitarianism: 0, virtue: 3, egoism_altruism: 0, deontology: 2, empathy: 0 },
      do_nothing: { utilitarianism: 0, virtue: -3, egoism_altruism: 0, deontology: -2, empathy: 0 }
    }
  },
  problem_16: {
    weight: 1,
    choices: {
      pull_lever: { utilitarianism: 1, virtue: 1, egoism_altruism: 0, deontology: 0, empathy: 1 },
      do_nothing: { utilitarianism: -1, virtue: -1, egoism_altruism: 0, deontology: 0, empathy: -1 }
    }
  },
  problem_17: {
    weight: 1,
    choices: {
      pull_lever: { utilitarianism: 3, virtue: 0, egoism_altruism: 3, deontology: 0, empathy: 1 },
      do_nothing: { utilitarianism: -3, virtue: 0, egoism_altruism: -3, deontology: 0, empathy: -1 }
    }
  },
  problem_18: {
    weight: 1,
    choices: {
      pull_lever: { utilitarianism: 0, virtue: 3, egoism_altruism: 2, deontology: 2, empathy: 0 },
      do_nothing: { utilitarianism: 0, virtue: -3, egoism_altruism: -2, deontology: -2, empathy: 0 }
    }
  },
  problem_19: {
    weight: 1,
    choices: {
      pull_lever: { utilitarianism: 3, virtue: 1, egoism_altruism: 2, deontology: 0, empathy: 0 },
      do_nothing: { utilitarianism: -3, virtue: -1, egoism_altruism: -2, deontology: 0, empathy: 0 }
    }
  },
  problem_20: {
    weight: 1,
    choices: {
      pull_lever: { utilitarianism: 0, virtue: 1, egoism_altruism: 3, deontology: 1, empathy: 2 },
      do_nothing: { utilitarianism: 0, virtue: -1, egoism_altruism: -3, deontology: -1, empathy: -2 }
    }
  },
  problem_21: {
    weight: 1,
    choices: {
      pull_lever: { utilitarianism: 0, virtue: 2, egoism_altruism: 1, deontology: 1, empathy: 1 },
      do_nothing: { utilitarianism: 0, virtue: -2, egoism_altruism: -1, deontology: -1, empathy: -1 }
    }
  },
  problem_22: {
    weight: 1,
    choices: {
      pull_lever: { utilitarianism: 3, virtue: 1, egoism_altruism: 0, deontology: 2, empathy: 0 },
      do_nothing: { utilitarianism: -3, virtue: -1, egoism_altruism: 0, deontology: -2, empathy: 0 }
    }
  },
  problem_23: {
    weight: 1,
    choices: {
      pull_lever: { utilitarianism: 3, virtue: 1, egoism_altruism: 3, deontology: 0, empathy: 1 },
      do_nothing: { utilitarianism: -3, virtue: -1, egoism_altruism: -3, deontology: 0, empathy: -1 }
    }
  },
  problem_24: {
    weight: 1,
    choices: {
      pull_lever: { utilitarianism: 3, virtue: 1, egoism_altruism: 0, deontology: 1, empathy: 0 },
      do_nothing: { utilitarianism: -3, virtue: -1, egoism_altruism: 0, deontology: -1, empathy: 0 }
    }
  },
  problem_25: {
    weight: 1,
    choices: {
      pull_lever: { utilitarianism: 2, virtue: 1, egoism_altruism: 3, deontology: 0, empathy: 0 },
      do_nothing: { utilitarianism: -2, virtue: -1, egoism_altruism: -3, deontology: 0, empathy: 0 }
    }
  },
  problem_26: {
    weight: 1,
    choices: {
      pull_lever: { utilitarianism: 0, virtue: 1, egoism_altruism: 0, deontology: 0, empathy: 3 },
      do_nothing: { utilitarianism: 0, virtue: -1, egoism_altruism: 0, deontology: 0, empathy: -3 }
    }
  },
  problem_27: {
    weight: 1,
    choices: {
      pull_lever: { utilitarianism: 2, virtue: 1, egoism_altruism: 0, deontology: 0, empathy: 2 },
      do_nothing: { utilitarianism: -2, virtue: -1, egoism_altruism: 0, deontology: 0, empathy: -2 }
    }
  },
  problem_28: {
    weight: 1,
    choices: {
      pull_lever: { utilitarianism: 0, virtue: 1, egoism_altruism: 0, deontology: 2, empathy: 3 },
      do_nothing: { utilitarianism: 0, virtue: -1, egoism_altruism: 0, deontology: -2, empathy: -3 }
    }
  },
  problem_29: {
    weight: 1,
    choices: {
      pull_lever: { utilitarianism: 3, virtue: 0, egoism_altruism: 3, deontology: 0, empathy: 3 },
      do_nothing: { utilitarianism: -3, virtue: 0, egoism_altruism: -3, deontology: 0, empathy: -3 }
    }
  },
  problem_30: {
    weight: 1,
    choices: {
      pull_lever: { utilitarianism: 1, virtue: 1, egoism_altruism: 0, deontology: 0, empathy: 1 },
      do_nothing: { utilitarianism: -1, virtue: -1, egoism_altruism: 0, deontology: 0, empathy: -1 }
    }
  },
  problem_31: {
    weight: 1,
    choices: {
      pull_lever: { utilitarianism: 2, virtue: 1, egoism_altruism: 0, deontology: 0, empathy: 1 },
      do_nothing: { utilitarianism: -2, virtue: -1, egoism_altruism: 0, deontology: 0, empathy: -1 }
    }
  },
  problem_32: {
    weight: 1,
    choices: {
      pull_lever: { utilitarianism: 0, virtue: 1, egoism_altruism: 0, deontology: 0, empathy: 0 },
      do_nothing: { utilitarianism: 0, virtue: -1, egoism_altruism: 0, deontology: 0, empathy: 0 }
    }
  },
  problem_33: {
    weight: 1,
    choices: {
      pull_lever: { utilitarianism: 3, virtue: 0, egoism_altruism: 0, deontology: 0, empathy: 0 },
      do_nothing: { utilitarianism: -3, virtue: 0, egoism_altruism: 0, deontology: 0, empathy: 0 }
    }
  },
  problem_34: {
    weight: 1,
    choices: {
      pull_lever: { utilitarianism: 3, virtue: 0, egoism_altruism: 3, deontology: 0, empathy: 0 },
      do_nothing: { utilitarianism: -3, virtue: 0, egoism_altruism: -3, deontology: 0, empathy: 0 }
    }
  }
};

export function normalizeChoiceKey(s = "") {
  const t = s.toLowerCase();
  if (t.includes("pull")) return "pull_lever";
  if (t.includes("do") || t.includes("nothing")) return "do_nothing";
  return t;
}

// fetch the framework points for a given scenario and choice, and apply that scenarioâ€™s weight
export function scoreChoice(problemId, choiceKey) {
  const p = PROBLEM_POINTS[problemId];
  if (!p) return null;
  const w = p.weight ?? 1;
  const src = p.choices[choiceKey] || {};
  const out = {};
  for (const k of Object.keys(src)) out[k] = src[k] * w;
  return out;
}